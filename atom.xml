<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://weakcc.github.io</id>
    <title>腰盐醋</title>
    <updated>2020-08-29T08:33:40.268Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="http://weakcc.github.io"/>
    <link rel="self" href="http://weakcc.github.io/atom.xml"/>
    <subtitle>温故而知新</subtitle>
    <logo>http://weakcc.github.io/images/avatar.png</logo>
    <icon>http://weakcc.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, 腰盐醋</rights>
    <entry>
        <title type="html"><![CDATA[宝塔搭建 ThinkPHP]]></title>
        <id>http://weakcc.github.io/post/bao-ta-da-jian-thinkphp/</id>
        <link href="http://weakcc.github.io/post/bao-ta-da-jian-thinkphp/">
        </link>
        <updated>2020-08-29T02:45:32.000Z</updated>
        <summary type="html"><![CDATA[<p>要使用宝塔面板首先需要开启端口:<br>
腾讯云：<a href="https://www.bt.cn/bbs/thread-1229-1-1.html">https://www.bt.cn/bbs/thread-1229-1-1.html</a><br>
阿里云：<a href="https://www.bt.cn/bbs/thread-2897-1-1.html">https://www.bt.cn/bbs/thread-2897-1-1.html</a><br>
华为云：<a href="https://www.bt.cn/bbs/thread-3923-1-1.html">https://www.bt.cn/bbs/thread-3923-1-1.html</a></p>
]]></summary>
        <content type="html"><![CDATA[<p>要使用宝塔面板首先需要开启端口:<br>
腾讯云：<a href="https://www.bt.cn/bbs/thread-1229-1-1.html">https://www.bt.cn/bbs/thread-1229-1-1.html</a><br>
阿里云：<a href="https://www.bt.cn/bbs/thread-2897-1-1.html">https://www.bt.cn/bbs/thread-2897-1-1.html</a><br>
华为云：<a href="https://www.bt.cn/bbs/thread-3923-1-1.html">https://www.bt.cn/bbs/thread-3923-1-1.html</a></p>
<!-- more -->
<h1 id="安装方法">安装方法</h1>
<p>示例是使用 <code>CentOS7.4</code><br>
执行下面的命令即可</p>
<pre><code>yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh
</code></pre>
<p><img src="http://weakcc.github.io/post-images/1598669843047.png" alt="" loading="lazy"><br>
中途如果询问 <code>Do you want to install Bt-Panel to the /www directory now?(y/n)</code>: 输入 <code>y</code> 回车即可；<br>
出现类似下面页面就是安装完成<br>
<img src="http://weakcc.github.io/post-images/1598670082145.png" alt="" loading="lazy"><br>
然后浏览器打开外网面板地址的链接<br>
<img src="http://weakcc.github.io/post-images/1598670218637.png" alt="" loading="lazy"><br>
输入 <code>username</code> 和 <code>password</code> 对应的值即完成登录<br>
<img src="http://weakcc.github.io/post-images/1598670316511.png" alt="" loading="lazy"><br>
选择环境类型<br>
<img src="http://weakcc.github.io/post-images/1598670509110.png" alt="" loading="lazy"><br>
选择编译安装，一键安装即可<br>
<img src="http://weakcc.github.io/post-images/1598670547784.png" alt="" loading="lazy"><br>
喝杯茶 loadIng... 任务列表为 0 时表示安装成功<br>
<img src="http://weakcc.github.io/post-images/1598671037291.png" alt="" loading="lazy"><br>
安装需要的 PHP 扩展（可以下拉选择）<br>
<img src="http://weakcc.github.io/post-images/1598671326212.png" alt="" loading="lazy"><br>
喝杯茶 loadIng... 任务列表为 0 时表示安装成功<br>
<img src="http://weakcc.github.io/post-images/1598671459440.png" alt="" loading="lazy"><br>
取消被禁用的 <code>proc_open</code> 函数<br>
<img src="http://weakcc.github.io/post-images/1598671733927.png" alt="" loading="lazy"><br>
新建一个站点<br>
可以把域名解析到服务器 IP<br>
<img src="http://weakcc.github.io/post-images/1598671957608.png" alt="" loading="lazy"><br>
<img src="http://weakcc.github.io/post-images/1598672008074.png" alt="" loading="lazy"><br>
如果想 IP 直接访问<br>
<img src="http://weakcc.github.io/post-images/1598673615513.png" alt="" loading="lazy"><br>
<img src="http://weakcc.github.io/post-images/1598673653330.png" alt="" loading="lazy"><br>
安装 <code>composer</code><br>
<img src="http://weakcc.github.io/post-images/1598688092769.png" alt="" loading="lazy"><br>
切换国内镜像</p>
<pre><code>composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/  
</code></pre>
<p>进入网站目录<br>
<img src="http://weakcc.github.io/post-images/1598687672274.png" alt="" loading="lazy"><br>
删除默认文件</p>
<pre><code>rm -rf index.html 404.html .htaccess
</code></pre>
<p>安装 <code>ThinkPHP5.1</code><br>
<img src="http://weakcc.github.io/post-images/1598688693276.png" alt="" loading="lazy"><br>
更改网站运行目录<br>
<img src="http://weakcc.github.io/post-images/1598689879556.png" alt="" loading="lazy"><br>
运行<br>
<img src="http://weakcc.github.io/post-images/1598689933583.png" alt="" loading="lazy"></p>
<h1 id="问题处理">问题处理</h1>
<p>问题：安装的是 PHP7.2 显示的 PHP5.4<br>
<img src="http://weakcc.github.io/post-images/1598685559996.png" alt="" loading="lazy"><br>
在选个 PHP 版本，来回切下就行了<br>
<img src="http://weakcc.github.io/post-images/1598685555408.png" alt="" loading="lazy"><br>
问题：putenv() has been disabled for security reasons<br>
<img src="http://weakcc.github.io/post-images/1598688465332.png" alt="" loading="lazy"><br>
在配置文件去掉 <code>putenv</code><br>
<img src="http://weakcc.github.io/post-images/1598688493779.png" alt="" loading="lazy"></p>
<blockquote>
<p>官网安装方法: <a href="https://www.bt.cn/bbs/thread-19376-1-1.html">https://www.bt.cn/bbs/thread-19376-1-1.html</a></p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Redis 概览]]></title>
        <id>http://weakcc.github.io/post/redis-gai-lan/</id>
        <link href="http://weakcc.github.io/post/redis-gai-lan/">
        </link>
        <updated>2020-08-27T00:55:29.000Z</updated>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="http://weakcc.github.io/post-images/1598489746128.png" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MySQL 优化]]></title>
        <id>http://weakcc.github.io/post/mysql-you-hua/</id>
        <link href="http://weakcc.github.io/post/mysql-you-hua/">
        </link>
        <updated>2020-08-25T10:05:46.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="定位慢-sql">定位慢 SQL</h1>
<ul>
<li>一种方法是查看慢查询日志</li>
<li>另一种方法是 show process 查看正在执行的 SQL</li>
</ul>]]></summary>
        <content type="html"><![CDATA[<h1 id="定位慢-sql">定位慢 SQL</h1>
<ul>
<li>一种方法是查看慢查询日志</li>
<li>另一种方法是 show process 查看正在执行的 SQL</li>
</ul>
<!-- more -->
<h1 id="使用不了索引的场景">使用不了索引的场景</h1>
<ul>
<li>应该避免隐式转换</li>
<li>like查询不能以%开头</li>
<li>范围查询时，包含的数据比例不能太大</li>
<li>不建议对条件字段做运算及函数操作</li>
</ul>
<figure data-type="image" tabindex="1"><img src="http://weakcc.github.io/post-images/1598350258439.png" alt="" loading="lazy"></figure>
<h1 id="分页查询">分页查询</h1>
<ul>
<li>根据自增且连续主键排序的分页查询优化</li>
<li>查询根据非主键字段排序的分页查询优化</li>
</ul>
<p><img src="http://weakcc.github.io/post-images/1598350670568.png" alt="" loading="lazy"><br>
<img src="http://weakcc.github.io/post-images/1598350676387.png" alt="" loading="lazy"></p>
<h1 id="常见需要添加索引的场景">常见需要添加索引的场景</h1>
<ul>
<li>数据检索时在条件字段添加索引</li>
<li>聚合函数对聚合字段添加索引</li>
<li>对排序字段添加索引</li>
<li>为了防止回表添加索引</li>
<li>关联查询在关联字段添加索引</li>
</ul>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MySQL5.7 版本 sql_mode=only_full_group_by 问题解决办法]]></title>
        <id>http://weakcc.github.io/post/mysql57-ban-ben-sql_modeonly_full_group_by-wen-ti-jie-jue-ban-fa/</id>
        <link href="http://weakcc.github.io/post/mysql57-ban-ben-sql_modeonly_full_group_by-wen-ti-jie-jue-ban-fa/">
        </link>
        <updated>2020-08-25T09:34:51.000Z</updated>
        <summary type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="http://weakcc.github.io/post-images/1598348346116.png" alt="" loading="lazy"></figure>
]]></summary>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="http://weakcc.github.io/post-images/1598348346116.png" alt="" loading="lazy"></figure>
<!-- more -->
<p>已 MAMP 为例：<br>
<img src="http://weakcc.github.io/post-images/1598348508212.png" alt="" loading="lazy"><br>
<img src="http://weakcc.github.io/post-images/1598348628532.png" alt="" loading="lazy"><br>
在[mysqld]下面添加这段</p>
<pre><code>sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION  
</code></pre>
<p><img src="http://weakcc.github.io/post-images/1598348771324.png" alt="" loading="lazy"><br>
最后重启 MAMP 就可以了</p>
]]></content>
    </entry>
</feed>