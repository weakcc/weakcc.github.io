<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://weakcc.github.io</id>
    <title>è…°ç›é†‹</title>
    <updated>2021-11-01T07:57:46.128Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="http://weakcc.github.io"/>
    <link rel="self" href="http://weakcc.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>http://weakcc.github.io/images/avatar.png</logo>
    <icon>http://weakcc.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, è…°ç›é†‹</rights>
    <entry>
        <title type="html"><![CDATA[PHP éšæœºå­—ç¬¦ä¸²]]></title>
        <id>http://weakcc.github.io/post/php-sui-ji-zi-fu-chuan/</id>
        <link href="http://weakcc.github.io/post/php-sui-ji-zi-fu-chuan/">
        </link>
        <updated>2021-11-01T06:12:51.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-php">function getRandChar($length = 6)
{
    $charStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz';

    $str = '';
    $max = strlen($charStr);
    for ($i = 0; $i &lt; $length; $i++) {
        $str .= $charStr[rand(0, $max - 1)];
    }

    return $str;
}

var_dump(getRandChar(5));
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[PHP æ— é™æåˆ†ç±»]]></title>
        <id>http://weakcc.github.io/post/php-wu-xian-ji-fen-lei/</id>
        <link href="http://weakcc.github.io/post/php-wu-xian-ji-fen-lei/">
        </link>
        <updated>2021-11-01T06:10:47.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="é€’å½’">é€’å½’</h1>
<pre><code class="language-php">&lt;?php

$array = [
    ['id' =&gt; 1, 'parent_id' =&gt; 0, 'name' =&gt; 'æ²³åŒ—çœ'],
    ['id' =&gt; 2, 'parent_id' =&gt; 0, 'name' =&gt; 'åŒ—äº¬å¸‚'],
    ['id' =&gt; 3, 'parent_id' =&gt; 1, 'name' =&gt; 'é‚¯éƒ¸å¸‚'],
    ['id' =&gt; 4, 'parent_id' =&gt; 2, 'name' =&gt; 'æœé˜³åŒº'],
    ['id' =&gt; 5, 'parent_id' =&gt; 2, 'name' =&gt; 'é€šå·åŒº'],
    ['id' =&gt; 6, 'parent_id' =&gt; 4, 'name' =&gt; 'æœ›äº¬'],
    ['id' =&gt; 7, 'parent_id' =&gt; 4, 'name' =&gt; 'é…’ä»™æ¡¥'],
    ['id' =&gt; 8, 'parent_id' =&gt; 3, 'name' =&gt; 'æ°¸å¹´åŒº'],
    ['id' =&gt; 9, 'parent_id' =&gt; 1, 'name' =&gt; 'æ­¦å®‰å¸‚'],
];

function getTree($array, $parent_id = 0, $level = 0)
{
    static $list = [];
    foreach ($array as $key =&gt; $value) {
        if ($value['parent_id'] == $parent_id) {
            $value['level'] = $level;
            $list[] = $value;
            unset($array[$key]);
            getTree($array, $value['id'], $level + 1);
        }
    }
    return $list;
}

$list = getTree($array);

foreach ($list as $value) {
    echo str_repeat('--', $value['level']) . $value['name'] . PHP_EOL;
}
/**
æ²³åŒ—çœ
--é‚¯éƒ¸å¸‚
----æ°¸å¹´åŒº
--æ­¦å®‰å¸‚
åŒ—äº¬å¸‚
--æœé˜³åŒº
----æœ›äº¬
----é…’ä»™æ¡¥
--é€šå·åŒº
 **/
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<h1 id="é€’å½’">é€’å½’</h1>
<pre><code class="language-php">&lt;?php

$array = [
    ['id' =&gt; 1, 'parent_id' =&gt; 0, 'name' =&gt; 'æ²³åŒ—çœ'],
    ['id' =&gt; 2, 'parent_id' =&gt; 0, 'name' =&gt; 'åŒ—äº¬å¸‚'],
    ['id' =&gt; 3, 'parent_id' =&gt; 1, 'name' =&gt; 'é‚¯éƒ¸å¸‚'],
    ['id' =&gt; 4, 'parent_id' =&gt; 2, 'name' =&gt; 'æœé˜³åŒº'],
    ['id' =&gt; 5, 'parent_id' =&gt; 2, 'name' =&gt; 'é€šå·åŒº'],
    ['id' =&gt; 6, 'parent_id' =&gt; 4, 'name' =&gt; 'æœ›äº¬'],
    ['id' =&gt; 7, 'parent_id' =&gt; 4, 'name' =&gt; 'é…’ä»™æ¡¥'],
    ['id' =&gt; 8, 'parent_id' =&gt; 3, 'name' =&gt; 'æ°¸å¹´åŒº'],
    ['id' =&gt; 9, 'parent_id' =&gt; 1, 'name' =&gt; 'æ­¦å®‰å¸‚'],
];

function getTree($array, $parent_id = 0, $level = 0)
{
    static $list = [];
    foreach ($array as $key =&gt; $value) {
        if ($value['parent_id'] == $parent_id) {
            $value['level'] = $level;
            $list[] = $value;
            unset($array[$key]);
            getTree($array, $value['id'], $level + 1);
        }
    }
    return $list;
}

$list = getTree($array);

foreach ($list as $value) {
    echo str_repeat('--', $value['level']) . $value['name'] . PHP_EOL;
}
/**
æ²³åŒ—çœ
--é‚¯éƒ¸å¸‚
----æ°¸å¹´åŒº
--æ­¦å®‰å¸‚
åŒ—äº¬å¸‚
--æœé˜³åŒº
----æœ›äº¬
----é…’ä»™æ¡¥
--é€šå·åŒº
 **/
</code></pre>
<!-- more -->
<h1 id="å¼•ç”¨">å¼•ç”¨</h1>
<pre><code class="language-php">&lt;?php

$array = [
    1 =&gt; ['id' =&gt; 1, 'parent_id' =&gt; 0, 'name' =&gt; 'æ²³åŒ—çœ'],
    2 =&gt; ['id' =&gt; 2, 'parent_id' =&gt; 0, 'name' =&gt; 'åŒ—äº¬å¸‚'],
    3 =&gt; ['id' =&gt; 3, 'parent_id' =&gt; 1, 'name' =&gt; 'é‚¯éƒ¸å¸‚'],
    4 =&gt; ['id' =&gt; 4, 'parent_id' =&gt; 2, 'name' =&gt; 'æœé˜³åŒº'],
    5 =&gt; ['id' =&gt; 5, 'parent_id' =&gt; 2, 'name' =&gt; 'é€šå·åŒº'],
    6 =&gt; ['id' =&gt; 6, 'parent_id' =&gt; 4, 'name' =&gt; 'æœ›äº¬'],
    7 =&gt; ['id' =&gt; 7, 'parent_id' =&gt; 4, 'name' =&gt; 'é…’ä»™æ¡¥'],
    8 =&gt; ['id' =&gt; 8, 'parent_id' =&gt; 3, 'name' =&gt; 'æ°¸å¹´åŒº'],
    9 =&gt; ['id' =&gt; 9, 'parent_id' =&gt; 1, 'name' =&gt; 'æ­¦å®‰å¸‚'],
];

function getTree($list)
{
    $tree = [];
    foreach ($list as &amp;$item) {
        $parent_id = $item['parent_id'];

        if (isset($list[$parent_id]) &amp;&amp; !empty($list[$parent_id])) {
            $list[$parent_id]['list'][] = &amp;$item;
        } else {
            $tree[] = &amp;$item;
        }
    }
    unset($item);

    return $tree;
}

$list = getTree($array);
print_r($list);
</code></pre>
<h1 id="laravel-orm-æ¨¡å‹">Laravel ORM æ¨¡å‹</h1>
<table>
<thead>
<tr>
<th style="text-align:center">å­—æ®µåç§°</th>
<th style="text-align:center">æè¿°</th>
<th style="text-align:center">ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">id</td>
<td style="text-align:center">è‡ªå¢é•¿ ID</td>
<td style="text-align:center">unsigned big int</td>
</tr>
<tr>
<td style="text-align:center">name</td>
<td style="text-align:center">ç±»ç›®åç§°</td>
<td style="text-align:center">varchar</td>
</tr>
<tr>
<td style="text-align:center">parent_id</td>
<td style="text-align:center">çˆ¶ç±»ç›® ID</td>
<td style="text-align:center">unsigned big int, null</td>
</tr>
<tr>
<td style="text-align:center">is_directory</td>
<td style="text-align:center">æ˜¯å¦æ‹¥æœ‰å­ç±»ç›®</td>
<td style="text-align:center">tinyint</td>
</tr>
<tr>
<td style="text-align:center">level</td>
<td style="text-align:center">å½“å‰ç±»ç›®å±‚çº§</td>
<td style="text-align:center">unsigned int</td>
</tr>
<tr>
<td style="text-align:center">path</td>
<td style="text-align:center">è¯¥ç±»ç›®æ‰€æœ‰çˆ¶ç±»ç›® id</td>
<td style="text-align:center">varchar</td>
</tr>
</tbody>
</table>
<pre><code class="language-php">&lt;?php
namespace App\Services;

use App\Models\Category;

class CategoryService
{
    // è¿™æ˜¯ä¸€ä¸ªé€’å½’æ–¹æ³•
    // $parentId å‚æ•°ä»£è¡¨è¦è·å–å­ç±»ç›®çš„çˆ¶ç±»ç›® IDï¼Œnull ä»£è¡¨è·å–æ‰€æœ‰æ ¹ç±»ç›®
    // $allCategories å‚æ•°ä»£è¡¨æ•°æ®åº“ä¸­æ‰€æœ‰çš„ç±»ç›®ï¼Œå¦‚æœæ˜¯ null ä»£è¡¨éœ€è¦ä»æ•°æ®åº“ä¸­æŸ¥è¯¢
    public function getCategoryTree($parentId = null, $allCategories = null)
    {
        if (is_null($allCategories)) {
            // ä»æ•°æ®åº“ä¸­ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰ç±»ç›®
            $allCategories = Category::all();
        }

        return $allCategories
            // ä»æ‰€æœ‰ç±»ç›®ä¸­æŒ‘é€‰å‡ºçˆ¶ç±»ç›® ID ä¸º $parentId çš„ç±»ç›®
            -&gt;where('parent_id', $parentId)
            // éå†è¿™äº›ç±»ç›®ï¼Œå¹¶ç”¨è¿”å›å€¼æ„å»ºä¸€ä¸ªæ–°çš„é›†åˆ
            -&gt;map(function (Category $category) use ($allCategories) {
                $data = ['id' =&gt; $category-&gt;id, 'name' =&gt; $category-&gt;name];
                // å¦‚æœå½“å‰ç±»ç›®ä¸æ˜¯çˆ¶ç±»ç›®ï¼Œåˆ™ç›´æ¥è¿”å›
                if (!$category-&gt;is_directory) {
                    return $data;
                }
                // å¦åˆ™é€’å½’è°ƒç”¨æœ¬æ–¹æ³•ï¼Œå°†è¿”å›å€¼æ”¾å…¥ children å­—æ®µä¸­
                $data['children'] = $this-&gt;getCategoryTree($category-&gt;id, $allCategories);

                return $data;
            });
    }
}

// è°ƒç”¨
app(App\Services\CategoryService::class)-&gt;getCategoryTree()
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Selenium ä»å…¥é—¨åˆ°æ”¾å¼ƒ]]></title>
        <id>http://weakcc.github.io/post/selenium-cong-ru-men-dao-fang-qi/</id>
        <link href="http://weakcc.github.io/post/selenium-cong-ru-men-dao-fang-qi/">
        </link>
        <updated>2021-10-30T08:14:39.000Z</updated>
        <content type="html"><![CDATA[<h1 id="å®‰è£…æµè§ˆå™¨é©±åŠ¨">å®‰è£…æµè§ˆå™¨é©±åŠ¨</h1>
<p><a href="https://chromedriver.storage.googleapis.com/index.html">Chrome æµè§ˆå™¨é©±åŠ¨</a><br>
<a href="https://github.com/mozilla/geckodriver/releases">Firefox æµè§ˆå™¨é©±åŠ¨</a><br>
<a href="http://selenium-release.storage.googleapis.com/index.html">IE æµè§ˆå™¨é©±åŠ¨</a><br>
<a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/">Edge æµè§ˆå™¨é©±åŠ¨</a><br>
<a href="https://phantomjs.org/">PhantomJS æµè§ˆå™¨é©±åŠ¨</a><br>
<a href="https://github.com/operasoftware/operachromiumdriver/releases">Opera æµè§ˆå™¨é©±åŠ¨</a></p>
<p>æµ‹è¯•</p>
<pre><code class="language-python">from selenium import webdriver

# Chromeæµè§ˆå™¨
driver = webdriver.Chrome()
driver.get('https://www.baidu.com/')
</code></pre>
<h1 id="å®šä½é¡µé¢å…ƒç´ ">å®šä½é¡µé¢å…ƒç´ </h1>
<h2 id="id-å®šä½">id å®šä½</h2>
<pre><code class="language-html">&lt;input id=&quot;toolbar-search-input&quot; autocomplete=&quot;off&quot; type=&quot;text&quot; value=&quot;&quot; placeholder=&quot;C++éš¾åœ¨å“ªé‡Œï¼Ÿ&quot;&gt;
</code></pre>
<pre><code class="language-python">driver.find_element_by_id('toolbar-search-input')
</code></pre>
<h2 id="name-å®šä½">name å®šä½</h2>
<pre><code class="language-html">&lt;meta name=&quot;keywords&quot; content=&quot;CSDNåšå®¢,CSDNå­¦é™¢,CSDNè®ºå›,CSDNç›´æ’­&quot;&gt;
</code></pre>
<pre><code class="language-python">driver.find_element_by_name(&quot;keywords&quot;)
</code></pre>
<h2 id="class-å®šä½">class å®šä½</h2>
<pre><code class="language-html">&lt;div class=&quot;toolbar-search-container&quot;&gt;
</code></pre>
<pre><code class="language-python">driver.find_element_by_class_name(&quot;toolbar-search-container&quot;)
</code></pre>
<h2 id="tag-å®šä½">tag å®šä½</h2>
<pre><code class="language-html">&lt;div class=&quot;toolbar-search-container&quot;&gt;
</code></pre>
<pre><code class="language-python">driver.find_element_by_tag_name(&quot;div&quot;)
</code></pre>
<h2 id="xpath-å®šä½">xpath å®šä½</h2>
<pre><code class="language-html">&lt;html&gt;
  &lt;head&gt;...&lt;head/&gt;
  &lt;body&gt;
    &lt;div id=&quot;csdn-toolbar&quot;&gt;
      &lt;div class=&quot;toolbar-inside&quot;&gt;
        &lt;div class=&quot;toolbar-container&quot;&gt;
          &lt;div class=&quot;toolbar-container-left&quot;&gt;...&lt;/div&gt;
          &lt;div class=&quot;toolbar-container-middle&quot;&gt;
            &lt;div class=&quot;toolbar-search onlySearch&quot;&gt;
			&lt;div class=&quot;toolbar-search-container&quot;&gt;
				&lt;input id=&quot;toolbar-search-input&quot; autocomplete=&quot;off&quot; type=&quot;text&quot; value=&quot;&quot; placeholder=&quot;C++éš¾åœ¨å“ªé‡Œï¼Ÿ&quot;&gt;
</code></pre>
<pre><code class="language-python"># ç»å¯¹è·¯å¾„ï¼ˆå±‚çº§å…³ç³»ï¼‰å®šä½
driver.find_element_by_xpath(
	&quot;/html/body/div/div/div/div[2]/div/div/input[1]&quot;)

# åˆ©ç”¨å…ƒç´ å±æ€§å®šä½
driver.find_element_by_xpath(
	&quot;//*[@id='toolbar-search-input']&quot;))

# å±‚çº§+å…ƒç´ å±æ€§å®šä½
driver.find_element_by_xpath(
	&quot;//div[@id='csdn-toolbar']/div/div/div[2]/div/div/input[1]&quot;)

# é€»è¾‘è¿ç®—ç¬¦å®šä½
driver.find_element_by_xpath(
	&quot;//*[@id='toolbar-search-input' and @autocomplete='off']&quot;)
</code></pre>
<h2 id="css-å®šä½">css å®šä½</h2>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">ä¾‹å­</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.class</td>
<td style="text-align:center">.toolbar-search-container</td>
<td style="text-align:center">é€‰æ‹© class = 'toolbar-search-container' çš„æ‰€æœ‰å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center">#id</td>
<td style="text-align:center">#toolbar-search-input</td>
<td style="text-align:center">é€‰æ‹© id = 'toolbar-search-input' çš„å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">*</td>
<td style="text-align:center">é€‰æ‹©æ‰€æœ‰å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center">element</td>
<td style="text-align:center">input</td>
<td style="text-align:center">é€‰æ‹©æ‰€æœ‰ &lt;input&gt; å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center">element&gt;element</td>
<td style="text-align:center">div&gt;input</td>
<td style="text-align:center">é€‰æ‹©çˆ¶å…ƒç´ ä¸º &lt;div&gt; çš„æ‰€æœ‰ &lt;input&gt; å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center">element+element</td>
<td style="text-align:center">div+input</td>
<td style="text-align:center">é€‰æ‹©åŒä¸€çº§ä¸­åœ¨ &lt;div&gt; ä¹‹åçš„æ‰€æœ‰ &lt;input&gt; å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:center">[attribute=value]</td>
<td style="text-align:center">type='text'</td>
<td style="text-align:center">é€‰æ‹© type = 'text' çš„æ‰€æœ‰å…ƒç´ </td>
</tr>
</tbody>
</table>
<pre><code class="language-python">driver.find_element_by_css_selector('#toolbar-search-input')
driver.find_element_by_css_selector('html&gt;body&gt;div&gt;div&gt;div&gt;div&gt;div&gt;div&gt;input')
</code></pre>
<h2 id="link-å®šä½">link å®šä½</h2>
<p><code>link</code> ä¸“é—¨ç”¨æ¥å®šä½æ–‡æœ¬é“¾æ¥ï¼Œå‡å¦‚è¦å®šä½ä¸‹é¢è¿™ä¸€æ ‡ç­¾ã€‚</p>
<pre><code class="language-html">&lt;div class=&quot;practice-box&quot; data-v-04f46969=&quot;&quot;&gt;åŠ å…¥ï¼æ¯æ—¥ä¸€ç»ƒ&lt;/div&gt;
</code></pre>
<pre><code class="language-python">driver.find_element_by_link_text(&quot;åŠ å…¥ï¼æ¯æ—¥ä¸€ç»ƒ&quot;)
</code></pre>
<h2 id="partial_link-å®šä½">partial_link å®šä½</h2>
<p><code>partial_link</code> ç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œéƒ¨åˆ†é“¾æ¥â€ï¼Œå¯¹äºæœ‰äº›æ–‡æœ¬å¾ˆé•¿ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åªæŒ‡å®šéƒ¨åˆ†æ–‡æœ¬å³å¯å®šä½ï¼ŒåŒæ ·ä½¿ç”¨åˆšæ‰çš„ä¾‹å­ã€‚</p>
<pre><code class="language-html">&lt;div class=&quot;practice-box&quot; data-v-04f46969=&quot;&quot;&gt;åŠ å…¥ï¼æ¯æ—¥ä¸€ç»ƒ&lt;/div&gt;
</code></pre>
<pre><code class="language-python">driver.find_element_by_partial_link_text(&quot;åŠ å…¥&quot;)
</code></pre>
<h1 id="æµè§ˆå™¨æ§åˆ¶">æµè§ˆå™¨æ§åˆ¶</h1>
<h2 id="ä¿®æ”¹æµè§ˆå™¨çª—å£å¤§å°">ä¿®æ”¹æµè§ˆå™¨çª—å£å¤§å°</h2>
<p><code>webdriver</code> æä¾› <code>set_window_size()</code> æ–¹æ³•æ¥ä¿®æ”¹æµè§ˆå™¨çª—å£çš„å¤§å°ã€‚</p>
<pre><code class="language-python">from selenium import webdriver

# Chromeæµè§ˆå™¨
driver = webdriver.Chrome()
driver.get('https://www.csdn.net/')
# è®¾ç½®æµè§ˆå™¨æµè§ˆå™¨çš„å®½é«˜ä¸ºï¼š600x800
driver.set_window_size(600, 800)
</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>maximize_window()</code> æ–¹æ³•å¯ä»¥å®ç°æµè§ˆå™¨å…¨å±æ˜¾ç¤º<br>
from selenium import webdriver</p>
<pre><code class="language-python"># Chromeæµè§ˆå™¨
driver = webdriver.Chrome()
driver.get('https://www.csdn.net/')
# è®¾ç½®æµè§ˆå™¨æµè§ˆå™¨çš„å®½é«˜ä¸ºå…¨å±
driver.maximize_window()
</code></pre>
<h2 id="æµè§ˆå™¨å‰è¿›åé€€">æµè§ˆå™¨å‰è¿›&amp;åé€€</h2>
<p><code>webdriver</code> æä¾› <code>back</code> å’Œ <code>forward</code> æ–¹æ³•æ¥å®ç°é¡µé¢çš„åé€€ä¸å‰è¿›</p>
<pre><code class="language-python">from selenium import webdriver
from time import sleep

driver = webdriver.Chrome()

# è®¿é—®CSDNé¦–é¡µ
driver.get('https://www.csdn.net/')
sleep(2)
#è®¿é—®CSDNä¸ªäººä¸»é¡µ
driver.get('https://blog.csdn.net/qq_43965708')
sleep(2)
#è¿”å›ï¼ˆåé€€ï¼‰åˆ°CSDNé¦–é¡µ
driver.back()
sleep(2)
#å‰è¿›åˆ°ä¸ªäººä¸»é¡µ
driver.forward()
</code></pre>
<h2 id="æ–°çš„æ ‡ç­¾é¡µæ‰“å¼€">æ–°çš„æ ‡ç­¾é¡µæ‰“å¼€</h2>
<p>å¦‚æœæƒ³çš„è¯ä¹Ÿå¯ä»¥åœ¨æ–°çš„æ ‡ç­¾é¡µä¸­æ‰“å¼€æ–°çš„é“¾æ¥ï¼Œä½†éœ€è¦æ›´æ”¹ä¸€ä¸‹ä»£ç ï¼Œæ‰§è¡Œ js è¯­å¥æ¥æ‰“å¼€æ–°çš„æ ‡ç­¾ã€‚</p>
<pre><code class="language-python"># åœ¨åŸé¡µé¢æ‰“å¼€
driver.get('https://blog.csdn.net/qq_43965708')

# æ–°æ ‡ç­¾ä¸­æ‰“å¼€
js = &quot;window.open('https://blog.csdn.net/qq_43965708')&quot;
driver.execute_script(js)
</code></pre>
<h2 id="æµè§ˆå™¨åˆ·æ–°">æµè§ˆå™¨åˆ·æ–°</h2>
<p>å¯ä»¥ä½¿ç”¨ <code>refresh()</code> æ¥åˆ·æ–°å½“å‰é¡µé¢ã€‚</p>
<pre><code class="language-python"># åˆ·æ–°é¡µé¢
driver.refresh()
</code></pre>
<h2 id="æµè§ˆå™¨çª—å£åˆ‡æ¢">æµè§ˆå™¨çª—å£åˆ‡æ¢</h2>
<p>åœ¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½éœ€è¦ç”¨åˆ°çª—å£åˆ‡æ¢ï¼Œæ¯”å¦‚ï¼šå½“æˆ‘ä»¬ç‚¹å‡»æ³¨å†ŒæŒ‰é’®æ—¶ï¼Œå®ƒä¸€èˆ¬ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µï¼Œä½†å®é™…ä¸Šä»£ç å¹¶æ²¡æœ‰åˆ‡æ¢åˆ°æœ€æ–°é¡µé¢ä¸­ï¼Œè¿™æ—¶ä½ å¦‚æœè¦å®šä½æ³¨å†Œé¡µé¢çš„æ ‡ç­¾å°±ä¼šå‘ç°å®šä½ä¸åˆ°ï¼Œè¿™æ—¶å°±éœ€è¦å°†å®é™…çª—å£åˆ‡æ¢åˆ°æœ€æ–°æ‰“å¼€çš„é‚£ä¸ªçª—å£ã€‚æˆ‘ä»¬å…ˆè·å–å½“å‰å„ä¸ªçª—å£çš„å¥æŸ„ï¼Œè¿™äº›ä¿¡æ¯çš„ä¿å­˜é¡ºåºæ˜¯æŒ‰ç…§æ—¶é—´æ¥çš„ï¼Œæœ€æ–°æ‰“å¼€çš„çª—å£æ”¾åœ¨æ•°ç»„çš„æœ«å°¾ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥å®šä½åˆ°æœ€æ–°æ‰“å¼€çš„é‚£ä¸ªçª—å£äº†ã€‚</p>
<pre><code class="language-python"># è·å–æ‰“å¼€çš„å¤šä¸ªçª—å£å¥æŸ„
windows = driver.window_handles
# åˆ‡æ¢åˆ°å½“å‰æœ€æ–°æ‰“å¼€çš„çª—å£
driver.switch_to.window(windows[-1])
</code></pre>
<h2 id="å¸¸è§æ“ä½œ">å¸¸è§æ“ä½œ</h2>
<p>webdriverä¸­çš„å¸¸è§æ“ä½œæœ‰ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">send_keys()</td>
<td style="text-align:center">æ¨¡æ‹Ÿè¾“å…¥æŒ‡å®šå†…å®¹</td>
</tr>
<tr>
<td style="text-align:center">clear()</td>
<td style="text-align:center">æ¸…é™¤æ–‡æœ¬å†…å®¹</td>
</tr>
<tr>
<td style="text-align:center">is_displayed()</td>
<td style="text-align:center">åˆ¤æ–­è¯¥å…ƒç´ æ˜¯å¦å¯è§</td>
</tr>
<tr>
<td style="text-align:center">get_attribute()</td>
<td style="text-align:center">è·å–æ ‡ç­¾å±æ€§å€¼</td>
</tr>
<tr>
<td style="text-align:center">size</td>
<td style="text-align:center">è¿”å›å…ƒç´ çš„å°ºå¯¸</td>
</tr>
<tr>
<td style="text-align:center">text</td>
<td style="text-align:center">è¿”å›å…ƒç´ æ–‡æœ¬</td>
</tr>
</tbody>
</table>
<p>ğŸŒ°</p>
<pre><code class="language-python">from selenium import webdriver
from time import sleep

driver = webdriver.Chrome()

driver.get('https://www.csdn.net/')
sleep(2)
# å®šä½æœç´¢è¾“å…¥æ¡†
text_label = driver.find_element_by_xpath('//*[@id=&quot;toolbar-search-input&quot;]')

# åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ Dreamä¸¶Killer
text_label.send_keys('Dreamä¸¶Killer')

sleep(2)
# æ¸…é™¤æœç´¢æ¡†ä¸­çš„å†…å®¹
text_label.clear()

# è¾“å‡ºæœç´¢æ¡†å…ƒç´ æ˜¯å¦å¯è§
print(text_label.is_displayed())
# è¾“å‡ºplaceholderçš„å€¼
print(text_label.get_attribute('placeholder'))

# å®šä½æœç´¢æŒ‰é’®
button = driver.find_element_by_xpath('//*[@id=&quot;toolbar-search-button&quot;]/span')
# è¾“å‡ºæŒ‰é’®çš„å¤§å°
print(button.size)
# è¾“å‡ºæŒ‰é’®ä¸Šçš„æ–‡æœ¬
print(button.text)

'''è¾“å‡ºå†…å®¹
True
pythoné¢è¯•100é—®
{'height': 32, 'width': 28}
æœç´¢
'''
</code></pre>
<h1 id="é¼ æ ‡æ§åˆ¶">é¼ æ ‡æ§åˆ¶</h1>
<p>åœ¨webdriver ä¸­ï¼Œé¼ æ ‡æ“ä½œéƒ½å°è£…åœ¨ActionChainsç±»ä¸­ï¼Œå¸¸è§æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">click()</td>
<td style="text-align:center">å•å‡»å·¦é”®</td>
</tr>
<tr>
<td style="text-align:center">context_click()</td>
<td style="text-align:center">å•å‡»å³é”®</td>
</tr>
<tr>
<td style="text-align:center">double_click()</td>
<td style="text-align:center">åŒå‡»</td>
</tr>
<tr>
<td style="text-align:center">drag_and_drop()</td>
<td style="text-align:center">æ‹–åŠ¨</td>
</tr>
<tr>
<td style="text-align:center">move_to_element()</td>
<td style="text-align:center">é¼ æ ‡æ‚¬åœ</td>
</tr>
<tr>
<td style="text-align:center">perform()</td>
<td style="text-align:center">æ‰§è¡Œæ‰€æœ‰ActionChainsä¸­å­˜å‚¨çš„åŠ¨ä½œ</td>
</tr>
</tbody>
</table>
<h2 id="å•å‡»å·¦é”®">å•å‡»å·¦é”®</h2>
<p>æ¨¡æ‹Ÿå®Œæˆå•å‡»é¼ æ ‡å·¦é”®çš„æ“ä½œï¼Œä¸€èˆ¬ç‚¹å‡»è¿›å…¥å­é¡µé¢ç­‰ä¼šç”¨åˆ°ï¼Œå·¦é”®ä¸éœ€è¦ç”¨åˆ° <code>ActionChains</code> ã€‚</p>
<pre><code class="language-python"># å®šä½æœç´¢æŒ‰é’®
button = driver.find_element_by_xpath('//*[@id=&quot;toolbar-search-button&quot;]/span')
# æ‰§è¡Œå•å‡»æ“ä½œ
button.click()
</code></pre>
<h2 id="å•å‡»å³é”®">å•å‡»å³é”®</h2>
<p>é¼ æ ‡å³å‡»çš„æ“ä½œä¸å·¦å‡»æœ‰å¾ˆå¤§ä¸åŒï¼Œéœ€è¦ä½¿ç”¨ <code>ActionChains</code> ã€‚</p>
<pre><code class="language-python">from selenium.webdriver.common.action_chains import ActionChains

# å®šä½æœç´¢æŒ‰é’®
button = driver.find_element_by_xpath('//*[@id=&quot;toolbar-search-button&quot;]/span')
# å³é”®æœç´¢æŒ‰é’®
ActionChains(driver).context_click(button).perform()
</code></pre>
<h2 id="åŒå‡»">åŒå‡»</h2>
<p>æ¨¡æ‹Ÿé¼ æ ‡åŒå‡»æ“ä½œ</p>
<pre><code class="language-python"># å®šä½æœç´¢æŒ‰é’®
button = driver.find_element_by_xpath('//*[@id=&quot;toolbar-search-button&quot;]/span')
# æ‰§è¡ŒåŒå‡»åŠ¨ä½œ
ActionChains(driver).double_click(button).perform()
</code></pre>
<h2 id="æ‹–åŠ¨">æ‹–åŠ¨</h2>
<p>æ¨¡æ‹Ÿé¼ æ ‡æ‹–åŠ¨æ“ä½œï¼Œè¯¥æ“ä½œæœ‰ä¸¤ä¸ªå¿…è¦å‚æ•°</p>
<ul>
<li><strong>source</strong>ï¼šé¼ æ ‡æ‹–åŠ¨çš„å…ƒç´ </li>
<li><strong>target</strong>ï¼šé¼ æ ‡æ‹–è‡³å¹¶é‡Šæ”¾çš„ç›®æ ‡å…ƒç´ </li>
</ul>
<pre><code class="language-python"># å®šä½è¦æ‹–åŠ¨çš„å…ƒç´ 
source = driver.find_element_by_xpath('xxx')
# å®šä½ç›®æ ‡å…ƒç´ 
target = driver.find_element_by_xpath('xxx')
# æ‰§è¡Œæ‹–åŠ¨åŠ¨ä½œ
ActionChains(driver).drag_and_drop(source, target).perform()
</code></pre>
<h2 id="é¼ æ ‡æ‚¬åœ">é¼ æ ‡æ‚¬åœ</h2>
<p>æ¨¡æ‹Ÿæ‚¬åœçš„ä½œç”¨ä¸€èˆ¬æ˜¯ä¸ºäº†æ˜¾ç¤ºéšè—çš„ä¸‹æ‹‰æ¡†ã€‚</p>
<pre><code class="language-python"># å®šä½æ”¶è—æ 
collect  = driver.find_element_by_xpath('//*[@id=&quot;csdn-toolbar&quot;]/div/div/div[3]/div/div[3]/a')

# æ‚¬åœè‡³æ”¶è—æ ‡ç­¾å¤„
ActionChains(driver).move_to_element(collect).perform()
</code></pre>
<h1 id="é”®ç›˜æ§åˆ¶">é”®ç›˜æ§åˆ¶</h1>
<p><code>webdriver</code> ä¸­ <code>Keys</code> ç±»å‡ ä¹æä¾›äº†é”®ç›˜ä¸Šçš„æ‰€æœ‰æŒ‰é”®æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>send_keys + Keys</code> å®ç°è¾“å‡ºé”®ç›˜ä¸Šçš„ç»„åˆæŒ‰é”®å¦‚ â€œ<strong>Ctrl + C</strong>â€ã€â€œ<strong>Ctrl + V</strong>â€ ç­‰ã€‚</p>
<pre><code class="language-python">from selenium.webdriver.common.keys import Keys

# å®šä½è¾“å…¥æ¡†å¹¶è¾“å…¥æ–‡æœ¬
driver.find_element_by_id('xxx').send_keys('Dreamä¸¶killer')

# æ¨¡æ‹Ÿå›è½¦é”®è¿›è¡Œè·³è½¬ï¼ˆè¾“å…¥å†…å®¹åï¼‰ 
driver.find_element_by_id('xxx').send_keys(Keys.ENTER)

# ä½¿ç”¨ Backspace æ¥åˆ é™¤ä¸€ä¸ªå­—ç¬¦
driver.find_element_by_id('xxx').send_keys(Keys.BACK_SPACE)

# Ctrl + A å…¨é€‰è¾“å…¥æ¡†ä¸­å†…å®¹
driver.find_element_by_id('xxx').send_keys(Keys.CONTROL, 'a')

# Ctrl + C å¤åˆ¶è¾“å…¥æ¡†ä¸­å†…å®¹
driver.find_element_by_id('xxx').send_keys(Keys.CONTROL, 'c')

# Ctrl + V ç²˜è´´è¾“å…¥æ¡†ä¸­å†…å®¹
driver.find_element_by_id('xxx').send_keys(Keys.CONTROL, 'v')
</code></pre>
<p>å…¶ä»–å¸¸è§é”®ç›˜æ“ä½œï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ“ä½œ</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Keys.F1</td>
<td style="text-align:center">F1é”®</td>
</tr>
<tr>
<td style="text-align:center">Keys.SPACE</td>
<td style="text-align:center">ç©ºæ ¼</td>
</tr>
<tr>
<td style="text-align:center">Keys.TAB</td>
<td style="text-align:center">Tabé”®</td>
</tr>
<tr>
<td style="text-align:center">Keys.ESCAPE</td>
<td style="text-align:center">ESCé”®</td>
</tr>
<tr>
<td style="text-align:center">Keys.ALT</td>
<td style="text-align:center">Alté”®</td>
</tr>
<tr>
<td style="text-align:center">Keys.SHIFT</td>
<td style="text-align:center">Shifté”®</td>
</tr>
<tr>
<td style="text-align:center">Keys.ARROW_DOWN</td>
<td style="text-align:center">å‘ä¸‹ç®­å¤´</td>
</tr>
<tr>
<td style="text-align:center">Keys.ARROW_LEFT</td>
<td style="text-align:center">å‘å·¦ç®­å¤´</td>
</tr>
<tr>
<td style="text-align:center">Keys.ARROW_RIGHT</td>
<td style="text-align:center">å‘å³ç®­å¤´</td>
</tr>
<tr>
<td style="text-align:center">Keys.ARROW_UP</td>
<td style="text-align:center">å‘ä¸Šç®­å¤´</td>
</tr>
</tbody>
</table>
<h1 id="è®¾ç½®å…ƒç´ ç­‰å¾…">è®¾ç½®å…ƒç´ ç­‰å¾…</h1>
<p>å¾ˆå¤šé¡µé¢éƒ½ä½¿ç”¨ <code>ajax</code> æŠ€æœ¯ï¼Œé¡µé¢çš„å…ƒç´ ä¸æ˜¯åŒæ—¶è¢«åŠ è½½å‡ºæ¥çš„ï¼Œä¸ºäº†é˜²æ­¢å®šä½è¿™äº›å°šåœ¨åŠ è½½çš„å…ƒç´ æŠ¥é”™ï¼Œå¯ä»¥è®¾ç½®å…ƒç´ ç­‰æ¥å¢åŠ è„šæœ¬çš„ç¨³å®šæ€§ã€‚<code>webdriver</code> ä¸­çš„ç­‰å¾…åˆ†ä¸º <strong>æ˜¾å¼ç­‰å¾…</strong> å’Œ <strong>éšå¼ç­‰å¾…</strong>ã€‚</p>
<h2 id="æ˜¾å¼ç­‰å¾…">æ˜¾å¼ç­‰å¾…</h2>
<p>æ˜¾å¼ç­‰å¾…ï¼šè®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œæ¯ä¸ªä¸€æ®µæ—¶é—´å°±å»æ£€æµ‹ä¸€æ¬¡è¯¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™æ‰§è¡Œåç»­å†…å®¹ï¼Œå¦‚æœè¶…è¿‡æœ€å¤§æ—¶é—´ï¼ˆè¶…æ—¶æ—¶é—´ï¼‰åˆ™æŠ›å‡ºè¶…æ—¶å¼‚å¸¸ï¼ˆ<code>TimeoutException</code>ï¼‰ã€‚æ˜¾ç¤ºç­‰å¾…éœ€è¦ä½¿ç”¨ <code>WebDriverWait</code>ï¼ŒåŒæ—¶é…åˆ <code>until</code> æˆ– <code>not until</code> ã€‚ä¸‹é¢è¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚</p>
<p><code>WebDriverWait(driver, timeout, poll_frequency=0.5, ignored_exceptions=None)</code></p>
<ul>
<li><code>driver</code>ï¼šæµè§ˆå™¨é©±åŠ¨</li>
<li><code>timeout</code>ï¼šè¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’</li>
<li><code>poll_frequency</code>ï¼šæ¯æ¬¡æ£€æµ‹çš„é—´éš”æ—¶é—´ï¼Œé»˜è®¤ä¸º0.5ç§’</li>
<li><code>ignored_exceptions</code>ï¼šæŒ‡å®šå¿½ç•¥çš„å¼‚å¸¸ï¼Œå¦‚æœåœ¨è°ƒç”¨ <code>until</code> æˆ– <code>until_not</code> çš„è¿‡ç¨‹ä¸­æŠ›å‡ºæŒ‡å®šå¿½ç•¥çš„å¼‚å¸¸ï¼Œåˆ™ä¸ä¸­æ–­ä»£ç ï¼Œé»˜è®¤å¿½ç•¥çš„åªæœ‰ <code>NoSuchElementException</code>ã€‚</li>
</ul>
<p><code>until(method, message=' ') until_not(method, message=' ')</code></p>
<ul>
<li><code>method</code>ï¼šæŒ‡å®šé¢„æœŸæ¡ä»¶çš„åˆ¤æ–­æ–¹æ³•ï¼Œåœ¨ç­‰å¾…æœŸé—´ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œç›´åˆ°å…ƒç´ å‡ºç°ã€‚<code>until_not</code> æ­£å¥½ç›¸åï¼Œå½“å…ƒç´ æ¶ˆå¤±æˆ–æŒ‡å®šæ¡ä»¶ä¸æˆç«‹ï¼Œåˆ™ç»§ç»­æ‰§è¡Œåç»­ä»£ç </li>
<li><code>message</code>: å¦‚æœè¶…æ—¶ï¼ŒæŠ›å‡º <code>TimeoutException</code>ï¼Œå¹¶æ˜¾ç¤º <code>message</code> ä¸­çš„å†…å®¹</li>
</ul>
<p><code>method</code> ä¸­çš„é¢„æœŸæ¡ä»¶åˆ¤æ–­æ–¹æ³•æ˜¯ç”± <code>expected_conditions</code> æä¾›ï¼Œä¸‹é¢åˆ—ä¸¾å¸¸ç”¨æ–¹æ³•ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">title_is('ç™¾åº¦ä¸€ä¸‹')</td>
<td style="text-align:center">åˆ¤æ–­å½“å‰é¡µé¢çš„ title æ˜¯å¦ç­‰äºé¢„æœŸ</td>
</tr>
<tr>
<td style="text-align:center">title_contains('ç™¾åº¦')</td>
<td style="text-align:center">åˆ¤æ–­å½“å‰é¡µé¢çš„ title æ˜¯å¦åŒ…å«é¢„æœŸå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:center">presence_of_element_located(locator)</td>
<td style="text-align:center">presence_of_element_located(locator)</td>
</tr>
<tr>
<td style="text-align:center">visibility_of_element_located(locator)</td>
<td style="text-align:center">åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ï¼Œå¯è§ä»£è¡¨å…ƒç´ ééšè—ï¼Œå¹¶ä¸”å…ƒç´ çš„å®½å’Œé«˜éƒ½ä¸ç­‰äº0</td>
</tr>
<tr>
<td style="text-align:center">visibility_of(element)</td>
<td style="text-align:center">è·Ÿä¸Šä¸€ä¸ªæ–¹æ³•ä½œç”¨ç›¸åŒï¼Œä½†ä¼ å…¥å‚æ•°ä¸º element</td>
</tr>
<tr>
<td style="text-align:center">text_to_be_present_in_element(locator , 'ç™¾åº¦')</td>
<td style="text-align:center">åˆ¤æ–­å…ƒç´ ä¸­çš„ text æ˜¯å¦åŒ…å«äº†é¢„æœŸçš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:center">text_to_be_present_in_element_value(locator , 'æŸå€¼')</td>
<td style="text-align:center">åˆ¤æ–­å…ƒç´ ä¸­çš„ value å±æ€§æ˜¯å¦åŒ…å«äº†é¢„æœŸçš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:center">frame_to_be_available_and_switch_to_it(locator)</td>
<td style="text-align:center">åˆ¤æ–­è¯¥ frame æ˜¯å¦å¯ä»¥ switch è¿›å»ï¼ŒTrue åˆ™ switch è¿›å»ï¼Œåä¹‹ False</td>
</tr>
<tr>
<td style="text-align:center">invisibility_of_element_located(locator)</td>
<td style="text-align:center">åˆ¤æ–­å…ƒç´ ä¸­æ˜¯å¦ä¸å­˜åœ¨äº dom æ ‘æˆ–ä¸å¯è§</td>
</tr>
<tr>
<td style="text-align:center">element_to_be_clickable(locator)</td>
<td style="text-align:center">åˆ¤æ–­å…ƒç´ ä¸­æ˜¯å¦å¯è§å¹¶ä¸”æ˜¯å¯ç‚¹å‡»çš„</td>
</tr>
<tr>
<td style="text-align:center">staleness_of(element)</td>
<td style="text-align:center">ç­‰å¾…å…ƒç´ ä» dom æ ‘ä¸­ç§»é™¤</td>
</tr>
<tr>
<td style="text-align:center">element_to_be_selected(element)</td>
<td style="text-align:center">åˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­,ä¸€èˆ¬ç”¨åœ¨ä¸‹æ‹‰åˆ—è¡¨</td>
</tr>
<tr>
<td style="text-align:center">element_selection_state_to_be(element, True)</td>
<td style="text-align:center">åˆ¤æ–­å…ƒç´ çš„é€‰ä¸­çŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå‚æ•° elementï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º True/False</td>
</tr>
<tr>
<td style="text-align:center">element_located_selection_state_to_be(locator, True)</td>
<td style="text-align:center">è·Ÿä¸Šä¸€ä¸ªæ–¹æ³•ä½œç”¨ç›¸åŒï¼Œä½†ä¼ å…¥å‚æ•°ä¸º locator</td>
</tr>
<tr>
<td style="text-align:center">alert_is_present()</td>
<td style="text-align:center">åˆ¤æ–­é¡µé¢ä¸Šæ˜¯å¦å­˜åœ¨ alert</td>
</tr>
</tbody>
</table>
<p>ğŸŒ°</p>
<h3 id="æ™®é€šå®šä½">æ™®é€šå®šä½</h3>
<pre><code class="language-python">from selenium.webdriver.common.by import By
from selenium import webdriver

driver = webdriver.Chrome()
locator = (By.ID, 'kw')
element = driver.find_element_by_id('kw')
</code></pre>
<h3 id="æ˜¾ç¤ºå®šä½">æ˜¾ç¤ºå®šä½</h3>
<pre><code class="language-python">from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.by import By

driver = webdriver.Chrome()
element = WebDriverWait(driver, 5, 0.5).until(
 Â  Â  Â  Â  Â  Â EC.presence_of_element_located((By.ID, 'kw')),
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  message='è¶…æ—¶å•¦!')
</code></pre>
<h2 id="éšå¼ç­‰å¾…">éšå¼ç­‰å¾…</h2>
<p>éšå¼ç­‰å¾…ä¹Ÿæ˜¯æŒ‡å®šä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œå¦‚æœè¶…å‡ºè¿™ä¸ªæ—¶é—´æŒ‡å®šå…ƒç´ è¿˜æ²¡æœ‰è¢«åŠ è½½å‡ºæ¥ï¼Œå°±ä¼šæŠ›å‡º <code>NoSuchElementException</code> å¼‚å¸¸ã€‚ é™¤äº†æŠ›å‡ºçš„å¼‚å¸¸ä¸åŒå¤–ï¼Œè¿˜æœ‰ä¸€ç‚¹ï¼Œéšå¼ç­‰å¾…æ˜¯å…¨å±€æ€§çš„ï¼Œå³è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœå…ƒç´ å¯ä»¥å®šä½åˆ°ï¼Œå®ƒä¸ä¼šå½±å“ä»£ç è¿è¡Œï¼Œä½†å¦‚æœå®šä½ä¸åˆ°ï¼Œåˆ™å®ƒä¼šä»¥è½®è¯¢çš„æ–¹å¼ä¸æ–­åœ°è®¿é—®å…ƒç´ ç›´åˆ°å…ƒç´ è¢«æ‰¾åˆ°ï¼Œè‹¥è¶…è¿‡æŒ‡å®šæ—¶é—´ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>ä½¿ç”¨ <code>implicitly_wait()</code> æ¥å®ç°éšå¼ç­‰å¾…ï¼Œä½¿ç”¨éš¾åº¦ç›¸å¯¹äºæ˜¾å¼ç­‰å¾…è¦ç®€å•å¾ˆå¤šã€‚ ç¤ºä¾‹ï¼šæ‰“å¼€ä¸ªäººä¸»é¡µï¼Œè®¾ç½®ä¸€ä¸ªéšå¼ç­‰å¾…æ—¶é—´ 5sï¼Œé€šè¿‡ <code>id</code> å®šä½ä¸€ä¸ªä¸å­˜åœ¨çš„å…ƒç´ ï¼Œæœ€åæ‰“å° æŠ›å‡ºçš„å¼‚å¸¸ ä¸ è¿è¡Œæ—¶é—´ã€‚</p>
<p>ğŸŒ°</p>
<pre><code class="language-python">from selenium import webdriver
from time import time

driver = webdriver.Chrome()
driver.get('https://blog.csdn.net/qq_43965708')

start = time()
driver.implicitly_wait(5)
try:
 Â  Â driver.find_element_by_id('kw')
except Exception as e:
 Â  Â print(e)
 Â  Â print(f'è€—æ—¶ï¼š{time()-start}')
</code></pre>
<blockquote>
<p>ä»£ç è¿è¡Œåˆ° driver.find_element_by_id('kw') è¿™å¥ä¹‹åè§¦å‘éšå¼ç­‰å¾…ï¼Œåœ¨è½®è¯¢æ£€æŸ¥ 5s åä»ç„¶æ²¡æœ‰å®šä½åˆ°å…ƒç´ ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</p>
</blockquote>
<h2 id="å¼ºåˆ¶ç­‰å¾…">å¼ºåˆ¶ç­‰å¾…</h2>
<p>ä½¿ç”¨ <code>time.sleep()</code> å¼ºåˆ¶ç­‰å¾…ï¼Œè®¾ç½®å›ºå®šçš„ä¼‘çœ æ—¶é—´ï¼Œå¯¹äºä»£ç çš„è¿è¡Œæ•ˆç‡ä¼šæœ‰å½±å“ã€‚ä»¥ä¸Šé¢çš„ä¾‹å­ä½œä¸ºå‚ç…§ï¼Œå°† éšå¼ç­‰å¾… æ”¹ä¸º å¼ºåˆ¶ç­‰å¾…ã€‚</p>
<pre><code class="language-python">from selenium import webdriver
from time import time, sleep

driver = webdriver.Chrome()
driver.get('https://blog.csdn.net/qq_43965708')

start = time()
sleep(5)
try:
 Â  Â driver.find_element_by_id('kw')
except Exception as e:
 Â  Â print(e)
 Â  Â print(f'è€—æ—¶ï¼š{time()-start}')
</code></pre>
<blockquote>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¯¹äºå®šä½ä¸åˆ°å…ƒç´ çš„æ—¶å€™ï¼Œä»è€—æ—¶æ–¹é¢éšå¼ç­‰å¾…å’Œå¼ºåˆ¶ç­‰å¾…æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ä½†å¦‚æœå…ƒç´ ç»è¿‡ 2s åè¢«åŠ è½½å‡ºæ¥ï¼Œè¿™æ—¶éšå¼ç­‰å¾…å°±ä¼šç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œä½† sleepè¿˜è¦ç»§ç»­ç­‰å¾… 3sã€‚</p>
</blockquote>
<h1 id="å®šä½ä¸€ç»„å…ƒç´ ">å®šä½ä¸€ç»„å…ƒç´ </h1>
<p>ä¸Šç¯‡è®²è¿°äº†å®šä½ä¸€ä¸ªå…ƒç´ çš„ 8 ç§æ–¹æ³•ï¼Œå®šä½ä¸€ç»„å…ƒç´ ä½¿ç”¨çš„æ–¹æ³•åªéœ€è¦å°† <code>element</code> æ”¹ä¸º <code>elements</code> å³å¯ï¼Œå®ƒçš„ä½¿ç”¨åœºæ™¯ä¸€èˆ¬æ˜¯ä¸ºäº†æ‰¹é‡æ“ä½œå…ƒç´ ã€‚</p>
<ul>
<li><code>find_elements_by_id()</code></li>
<li><code>find_elements_by_name()</code></li>
<li><code>find_elements_by_class_name()</code></li>
<li><code>find_elements_by_tag_name()</code></li>
<li><code>find_elements_by_xpath()</code></li>
<li><code>find_elements_by_css_selector()</code></li>
<li><code>find_elements_by_link_text()</code></li>
<li><code>find_elements_by_partial_link_text()</code></li>
</ul>
<p>ğŸŒ°</p>
<pre><code class="language-python">from selenium import webdriver

# è®¾ç½®æ— å¤´æµè§ˆå™¨
option = webdriver.ChromeOptions()
option.add_argument('--headless')

driver = webdriver.Chrome(options=option)
driver.get('https://blog.csdn.net/')

p_list = driver.find_elements_by_xpath(&quot;//p[@class='name']&quot;)
name = [p.text for p in p_list]
print(name)
'''
['èŠ±ç”Ÿ', 'ç¼–ç¨‹', 'å“']
'''
</code></pre>
<h1 id="åˆ‡æ¢æ“ä½œ">åˆ‡æ¢æ“ä½œ</h1>
<h2 id="çª—å£åˆ‡æ¢">çª—å£åˆ‡æ¢</h2>
<p>åœ¨ <code>selenium</code> æ“ä½œé¡µé¢çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå› ä¸ºç‚¹å‡»æŸä¸ªé“¾æ¥è€Œè·³è½¬åˆ°ä¸€ä¸ªæ–°çš„é¡µé¢ï¼ˆæ‰“å¼€äº†ä¸€ä¸ªæ–°æ ‡ç­¾é¡µï¼‰ï¼Œè¿™æ—¶å€™ <code>selenium</code> å®é™…è¿˜æ˜¯å¤„äºä¸Šä¸€ä¸ªé¡µé¢çš„ï¼Œéœ€è¦æˆ‘ä»¬è¿›è¡Œåˆ‡æ¢æ‰èƒ½å¤Ÿå®šä½æœ€æ–°é¡µé¢ä¸Šçš„å…ƒç´ ã€‚</p>
<p>çª—å£åˆ‡æ¢éœ€è¦ä½¿ç”¨ <code>switch_to.windows()</code> æ–¹æ³•ã€‚</p>
<p>ğŸŒ°</p>
<pre><code class="language-python">from selenium import webdriver

handles = []
driver = webdriver.Chrome()
driver.get('https://blog.csdn.net/')
# è®¾ç½®éšå¼ç­‰å¾…
driver.implicitly_wait(3)
# è·å–å½“å‰çª—å£çš„å¥æŸ„
handles.append(driver.current_window_handle)
# ç‚¹å‡» pythonï¼Œè¿›å…¥åˆ†ç±»é¡µé¢
driver.find_element_by_xpath('//*[@id=&quot;mainContent&quot;]/aside/div[1]/div').click()
# è·å–å½“å‰çª—å£çš„å¥æŸ„
handles.append(driver.current_window_handle)

print(handles)
# è·å–å½“å‰æ‰€æœ‰çª—å£çš„å¥æŸ„
print(driver.window_handles)
'''
['CDwindow-D032106A36A4D596E67B6A8D9CC7DE6B', 'CDwindow-D032106A36A4D596E67B6A8D9CC7DE6B']
['CDwindow-D032106A36A4D596E67B6A8D9CC7DE6B', 'CDwindow-DC9A05D1F67FE0AF0CEC441EB9FBD316']
'''
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªåˆ—è¡¨ <code>handle</code> æ˜¯ç›¸åŒçš„ï¼Œè¯´æ˜ <code>selenium</code> å®é™…æ“ä½œçš„è¿˜æ˜¯ CSDNé¦–é¡µ ï¼Œå¹¶æœªåˆ‡æ¢åˆ°æ–°é¡µé¢ã€‚ ä¸‹é¢ä½¿ç”¨ <code>switch_to.windows()</code> è¿›è¡Œåˆ‡æ¢ã€‚</p>
<pre><code class="language-python">from selenium import webdriver

handles = []
driver = webdriver.Chrome()
driver.get('https://blog.csdn.net/')
# è®¾ç½®éšå¼ç­‰å¾…
driver.implicitly_wait(3)
# è·å–å½“å‰çª—å£çš„å¥æŸ„
handles.append(driver.current_window_handle)
# ç‚¹å‡» pythonï¼Œè¿›å…¥åˆ†ç±»é¡µé¢
driver.find_element_by_xpath('//*[@id=&quot;mainContent&quot;]/aside/div[1]/div').click()
# åˆ‡æ¢çª—å£
driver.switch_to.window(driver.window_handles[-1])
# è·å–å½“å‰çª—å£çš„å¥æŸ„
handles.append(driver.current_window_handle)

print(handles)
print(driver.window_handles)
'''
['CDwindow-9329E73908B77E0AA52FE5EEB1AA3147', 'CDwindow-327C23C8937C00202FF541E843C37101']
['CDwindow-9329E73908B77E0AA52FE5EEB1AA3147', 'CDwindow-327C23C8937C00202FF541E843C37101']
'''
</code></pre>
<p>ä¸Šé¢ä»£ç åœ¨ç‚¹å‡»è·³è½¬åï¼Œä½¿ç”¨ <code>switch_to</code> åˆ‡æ¢çª—å£ï¼Œ<code>window_handles</code> è¿”å›çš„ <code>handle</code> åˆ—è¡¨æ˜¯æŒ‰ç…§é¡µé¢å‡ºç°æ—¶é—´è¿›è¡Œæ’åºçš„ï¼Œæœ€æ–°æ‰“å¼€çš„é¡µé¢è‚¯å®šæ˜¯æœ€åä¸€ä¸ªã€‚</p>
<blockquote>
<p>é‚£å¦‚æœæ‰“å¼€çš„çª—å£æœ‰å¤šä¸ªï¼Œå¦‚ä½•è·³è½¬åˆ°ä¹‹å‰æ‰“å¼€çš„çª—å£ï¼Œå¦‚æœç¡®å®æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œé‚£ä¹ˆæ‰“å¼€çª—å£æ˜¯å°±éœ€è¦è®°å½•æ¯ä¸€ä¸ªçª—å£çš„ <code>key</code>(åˆ«å) ä¸ <code>value</code>(<code>handle</code>)ï¼Œä¿å­˜åˆ°å­—å…¸ä¸­ï¼Œåç»­æ ¹æ® <code>key</code> æ¥å– <code>handle</code> ã€‚</p>
</blockquote>
<h2 id="è¡¨å•åˆ‡æ¢">è¡¨å•åˆ‡æ¢</h2>
<p>å¾ˆå¤šé¡µé¢ä¹Ÿä¼šç”¨å¸¦ <code>frame/iframe</code> è¡¨å•åµŒå¥—ï¼Œå¯¹äºè¿™ç§å†…åµŒçš„é¡µé¢ <code>selenium</code> æ˜¯æ— æ³•ç›´æ¥å®šä½çš„ï¼Œéœ€è¦ä½¿ç”¨ <code>switch_to.frame()</code> æ–¹æ³•å°†å½“å‰æ“ä½œçš„å¯¹è±¡åˆ‡æ¢æˆ <code>frame/iframe</code> å†…åµŒçš„é¡µé¢ã€‚</p>
<p><code>switch_to.frame()</code> é»˜è®¤å¯ä»¥ç”¨çš„ <code>id</code> æˆ– <code>name</code> å±æ€§ç›´æ¥å®šä½ï¼Œä½†å¦‚æœ <code>iframe</code> æ²¡æœ‰ <code>id</code> æˆ– <code>name</code> ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ <code>xpath</code> è¿›è¡Œå®šä½ã€‚</p>
<p>ğŸŒ°</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
 Â  Â &lt;meta charset=&quot;UTF-8&quot;&gt;
 Â  Â &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
 Â  Â &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
 Â  Â &lt;title&gt;Document&lt;/title&gt;
 Â  Â &lt;style&gt;
 Â  Â  Â  Â div p {
 Â  Â  Â  Â  Â  Â color: #red;
 Â  Â  Â  Â  Â  Â animation: change 2s infinite;
 Â  Â  Â   }
 Â  Â  Â  Â @keyframes change {
 Â  Â  Â  Â  Â  Â from {
 Â  Â  Â  Â  Â  Â  Â  Â color: red;
 Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â to {
 Â  Â  Â  Â  Â  Â  Â  Â color: blue;
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â  Â &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
 Â  Â &lt;div&gt;
        &lt;p&gt;ç®€å•çš„æ —å­&lt;/p&gt;
 Â  Â &lt;/div&gt;
 Â  Â &lt;iframe src=&quot;https://blog.csdn.net/qq_43965708&quot; width=&quot;400&quot; height=&quot;200&quot;&gt;&lt;/iframe&gt;
&lt;!-- Â  Â  &lt;iframe id=&quot;CSDN_info&quot; name=&quot;lizi&quot; src=&quot;https://blog.csdn.net/qq_43965708&quot; width=&quot;400&quot; height=&quot;200&quot;&gt;&lt;/iframe&gt; --&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<figure data-type="image" tabindex="1"><img src="http://weakcc.github.io/post-images/1635753252992.png" alt="" loading="lazy"></figure>
<pre><code class="language-python">from selenium import webdriver
from pathlib import Path


driver = webdriver.Chrome()
# è¯»å–æœ¬åœ°htmlæ–‡ä»¶
driver.get('file:///' + str(Path(Path.cwd(), 'iframeæµ‹è¯•.html')))

# 1.é€šè¿‡idå®šä½
driver.switch_to.frame('CSDN_info')
# 2.é€šè¿‡nameå®šä½
# driver.switch_to.frame('lizi')
# 3.é€šè¿‡xpathå®šä½
# iframe_label = driver.find_element_by_xpath('/html/body/iframe')
# driver.switch_to.frame(iframe_label)

driver.find_element_by_xpath('//*[@id=&quot;csdn-toolbar&quot;]/div/div/div[1]/div/a/img').click()
</code></pre>
<blockquote>
<p>https://juejin.cn/post/7022925905395875847</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨ safari æµè§ˆå™¨å¯¼å‡º Excel æ–‡ä»¶åç¼€ä¼šåŠ ä¸€ä¸ª .html]]></title>
        <id>http://weakcc.github.io/post/shi-yong-safari-liu-lan-qi-dao-chu-excel-wen-jian-hou-zhui-hui-jia-yi-ge-html/</id>
        <link href="http://weakcc.github.io/post/shi-yong-safari-liu-lan-qi-dao-chu-excel-wen-jian-hou-zhui-hui-jia-yi-ge-html/">
        </link>
        <updated>2021-10-28T02:45:52.000Z</updated>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="http://weakcc.github.io/post-images/1635389216714.png" alt="" loading="lazy"></figure>
<p>è§£å†³åŠæ³•</p>
<pre><code class="language-php">header(&quot;Pragma: public&quot;);  
header(&quot;Expires: 0&quot;);  
header(&quot;Cache-Control:must-revalidate, post-check=0, pre-check=0&quot;);  
header(&quot;Content-Type:application/force-download&quot;);  
header(&quot;Content-Type:application/vnd.ms-excel&quot;);  
header(&quot;Content-Type:application/octet-stream&quot;);  
header(&quot;Content-Type:application/download&quot;);;  
header('Content-Disposition:attachment;filename=&quot;'.$filename.'.xls&quot;');
header(&quot;Content-Transfer-Encoding:binary&quot;);
$objWriter-&gt;save('php://output');
exit;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[PHP åŠ¨æ€è¯­è¨€é™æ€åŒ–]]></title>
        <id>http://weakcc.github.io/post/php-dong-tai-yu-yan-jing-tai-hua/</id>
        <link href="http://weakcc.github.io/post/php-dong-tai-yu-yan-jing-tai-hua/">
        </link>
        <updated>2021-10-26T02:26:40.000Z</updated>
        <summary type="html"><![CDATA[<p>æ–°å»ºæ–‡ä»¶ <code>demo.php</code><br>
æ­£å¸¸è¾“å‡º</p>
<pre><code class="language-php">&lt;p&gt;åœ¨ demo.php æ–‡ä»¶ä¸‹è¾“å‡º html æ–‡æœ¬&lt;/p&gt;
</code></pre>
<p>å¼€å¯è¾“å‡ºæ§åˆ¶ç¼“å†² <code>ob_start</code></p>
<pre><code class="language-php">&lt;?php
    ob_start(); // æ‰“å¼€è¾“å‡ºæ§åˆ¶ç¼“å†²
?&gt;
&lt;p&gt;åœ¨ demo.php æ–‡ä»¶ä¸‹è¾“å‡º html æ–‡æœ¬&lt;/p&gt;
&lt;?php
    $content = ob_get_contents(); // è¿”å›è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹
    ob_end_flush(); // å†²åˆ·å‡ºï¼ˆé€å‡ºï¼‰è¾“å‡ºç¼“å†²åŒºå†…å®¹å¹¶å…³é—­ç¼“å†²
    var_dump($content);
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<p>æ–°å»ºæ–‡ä»¶ <code>demo.php</code><br>
æ­£å¸¸è¾“å‡º</p>
<pre><code class="language-php">&lt;p&gt;åœ¨ demo.php æ–‡ä»¶ä¸‹è¾“å‡º html æ–‡æœ¬&lt;/p&gt;
</code></pre>
<p>å¼€å¯è¾“å‡ºæ§åˆ¶ç¼“å†² <code>ob_start</code></p>
<pre><code class="language-php">&lt;?php
    ob_start(); // æ‰“å¼€è¾“å‡ºæ§åˆ¶ç¼“å†²
?&gt;
&lt;p&gt;åœ¨ demo.php æ–‡ä»¶ä¸‹è¾“å‡º html æ–‡æœ¬&lt;/p&gt;
&lt;?php
    $content = ob_get_contents(); // è¿”å›è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹
    ob_end_flush(); // å†²åˆ·å‡ºï¼ˆé€å‡ºï¼‰è¾“å‡ºç¼“å†²åŒºå†…å®¹å¹¶å…³é—­ç¼“å†²
    var_dump($content);
</code></pre>
<!--more-->
<p>æŠŠç¼“å­˜å†™å…¥æ–‡ä»¶</p>
<pre><code class="language-php">&lt;?php
    $cache_name = md5(__FILE__) . '.html';

    ob_start(); // æ‰“å¼€è¾“å‡ºæ§åˆ¶ç¼“å†²
?&gt;
&lt;p&gt;åœ¨ demo.php æ–‡ä»¶ä¸‹è¾“å‡º html æ–‡æœ¬&lt;/p&gt;
&lt;?php
    $content = ob_get_contents(); // è¿”å›è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹
    ob_end_flush(); // å†²åˆ·å‡ºï¼ˆé€å‡ºï¼‰è¾“å‡ºç¼“å†²åŒºå†…å®¹å¹¶å…³é—­ç¼“å†²

    $handle = fopen($cache_name, 'w');
    fwrite($handle, $content);
    fclose($handle);
</code></pre>
<pre><code>var_dump($cache_name);
</code></pre>
<p>è¿è¡Œåç”Ÿæˆä¸´æ—¶æ–‡ä»¶ <code>xxxx.html</code> ç¼“å­˜</p>
<p>å…³é”®ç¼“å­˜åˆ¤æ–­</p>
<pre><code class="language-php">&lt;?php
    $cache_name = md5(__FILE__) . '.html';
    $cache_lifetime = 3600;
    // filectime() å‡½æ•°è¿”å›æŒ‡å®šæ–‡ä»¶çš„ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´
    if (file_exists($cache_name)
        &amp;&amp; filectime(__FILE__) &lt;= filectime($cache_name)
        &amp;&amp; filectime($cache_name) + $cache_lifetime &gt; time()) {
        // ç¼“å­˜æ–‡ä»¶å­˜åœ¨
        // å½“å‰æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹ï¼ˆæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´å°äºç¼“å­˜æ–‡ä»¶çš„ä¿®æ”¹é—®ï¼‰
        // ç¼“å­˜æ–‡ä»¶æ˜¯å¦å·²ç»è¿‡æœŸ
        include $cache_name;
        exit;
    }

    ob_start(); // æ‰“å¼€è¾“å‡ºæ§åˆ¶ç¼“å†²
?&gt;
&lt;p&gt;åœ¨ demo.php æ–‡ä»¶ä¸‹è¾“å‡º html æ–‡æœ¬&lt;/p&gt;
&lt;?php
    $content = ob_get_contents(); // è¿”å›è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹
    ob_end_flush(); // å†²åˆ·å‡ºï¼ˆé€å‡ºï¼‰è¾“å‡ºç¼“å†²åŒºå†…å®¹å¹¶å…³é—­ç¼“å†²

    $handle = fopen($cache_name, 'w');
    fwrite($handle, $content);
    fclose($handle);
</code></pre>
<p>æ ¹æ®ä¸åŒçš„ç”¨æˆ· <code>id</code> åšä¸åŒçš„ç¼“å­˜</p>
<pre><code class="language-php">&lt;?php
    $id = intval($_GET['id']);
    if (empty($id)) {
        $id = '';
    }

    $cache_name = md5(__FILE__) . '-' . $id .'.html';
    $cache_lifetime = 3600;
    // filectime() å‡½æ•°è¿”å›æŒ‡å®šæ–‡ä»¶çš„ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´
    if (file_exists($cache_name)
        &amp;&amp; filectime(__FILE__) &lt;= filectime($cache_name)
        &amp;&amp; filectime($cache_name) + $cache_lifetime &gt; time()) {
        // ç¼“å­˜æ–‡ä»¶å­˜åœ¨
        // å½“å‰æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹ï¼ˆæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´å°äºç¼“å­˜æ–‡ä»¶çš„ä¿®æ”¹é—®ï¼‰
        // ç¼“å­˜æ–‡ä»¶æ˜¯å¦å·²ç»è¿‡æœŸ
        include $cache_name;
        exit;
    }

    ob_start(); // æ‰“å¼€è¾“å‡ºæ§åˆ¶ç¼“å†²
?&gt;
&lt;p&gt;åœ¨ demo.php æ–‡ä»¶ä¸‹è¾“å‡º html æ–‡æœ¬. &lt;?php echo $id?&gt;&lt;/p&gt;
&lt;?php
    $content = ob_get_contents(); // è¿”å›è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹
    ob_end_flush(); // å†²åˆ·å‡ºï¼ˆé€å‡ºï¼‰è¾“å‡ºç¼“å†²åŒºå†…å®¹å¹¶å…³é—­ç¼“å†²

    $handle = fopen($cache_name, 'w');
    fwrite($handle, $content);
    fclose($handle);
</code></pre>
]]></content>
    </entry>
</feed>